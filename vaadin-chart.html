<!--
@license
Vaadin Charts
Copyright (C) 2015 Vaadin Ltd
This program is available under Commercial Vaadin Add-On License 3.0 (CVALv3).
See the file LICENSE.md distributed with this software for more information about licensing.
See <a href="https://vaadin.com/license/cval-3">the website</a> for the complete license.
-->

<link rel="import" href="../polymer/polymer-element.html">
<link rel="import" href="../vaadin-license-checker/vaadin-license-checker.html">
<link rel="import" href="vaadin-charts-default-theme.html">
<script src="../highcharts/js/highcharts.js"></script>

<dom-module id="vaadin-chart">
  <template>
    <style include="vaadin-charts-default-theme">
       :host {
        display: block;
      }
    </style>
    <div id="chart"></div>
  </template>

  <script>
    if (!Polymer.Element) {
      throw new Error(`Unexpected Polymer version ${Polymer.version} is used, expected v2.0.0 or later.`);
    }

    {

      /**
       * `<vaadin-chart>` is a Polymer 2 element.
       *
       * ```
       * <vaadin-chart></vaadin-chart>
       * ```
       *
       * @memberof Vaadin
       * @demo demo/index.html
       */
      class VaadinChart extends Polymer.Element {
        static get is() {
          return 'vaadin-chart';
        }

        static get properties() {
          return {
          };
        }

        constructor() {
          super();
          this._baseConfig = {
            credits: {
              enabled: false
            },
          };
        }


        connectedCallback() {
          super.connectedCallback();
          Highcharts.chart(this.$.chart, this._baseConfig);
          this._addLicenseChecker();
        }

        _addLicenseChecker() {
          var licenseChecker = document.createElement('vaadin-license-checker');
          licenseChecker.productName = 'vaadin-charts';
          licenseChecker.productVersion = '6.0.0';
          licenseChecker.productCaption = 'Vaadin Charts';
          this.shadowRoot.appendChild(licenseChecker);
        }
      }

      customElements.define(VaadinChart.is, VaadinChart);

      /**
       * @namespace Vaadin
       */
      window.Vaadin = window.Vaadin || {};
      Vaadin.VaadinChart = VaadinChart;
    }
  </script>
</dom-module>