<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <script src="../../webcomponentsjs/webcomponents-lite.min.js"></script>
    <script src="../../web-component-tester/browser.js"></script>

    <link rel="import" href="../v-chart.html">
</head>
<body>
<v-chart id="chartWithSeriesMarker">
    <v-series>
        <vc-marker symbol="square"></vc-marker>
        <vc-data>25.2</vc-data>
        <vc-data>
            <vc-point>
              <vc-y>26.5</vc-y>
              <vc-marker symbol="url(http://www.highcharts.com/demo/gfx/sun.png)"></vc-marker>
            </vc-point>
        </vc-data>
        <vc-data>9.6</vc-data>
    </v-series>
</v-chart>
<script>

    suite('<v-series>', function () {

        test('series marker defined', function () {
            var chartswc = document.querySelector('#chartWithSeriesMarker');
            var conf = chartswc._chartConf;
            expect(conf.series).to.exist;
            expect(conf.series).not.to.be.empty;
            expect(conf.series[0].data).to.exist;
            expect(conf.series[0].data).not.to.be.empty;

            var series = conf.series[0];

            expect(series.marker).to.exist;
            expect(series.marker.symbol).to.exist;
            expect(series.marker.symbol).to.equal("square");

            expect(series.data[1]).to.exist;

            var valueWithMarker = series.data[1];

            expect(valueWithMarker.marker.symbol).to.equal('url(http://www.highcharts.com/demo/gfx/sun.png)');
            expect(valueWithMarker.y).to.equal(26.5);

        });

    });

</script>

</body>
</html>
