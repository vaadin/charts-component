<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <script src="../../webcomponentsjs/webcomponents-lite.min.js"></script>
    <script src="../../web-component-tester/browser.js"></script>

    <link rel="import" href="../vaadin-line-chart.html">
</head>
<body>
<vaadin-line-chart id="chartId">
    <data-series>
        <data>1,2,3</data>
        <data>
            <point>
                <y>4</y>
                <data-labels shape="callout" enabled="true"></data-labels>
            </point>
        </data>
        <data>5,6,7,8</data>
    </data-series>
</vaadin-line-chart>
<script>

    suite('<data-series>', function () {

        test('series data parsed', function () {
            var chartswc = document.querySelector('#chartId');
            var conf = chartswc._chartConf;
            expect(conf.series).to.exist;
            expect(conf.series).not.to.be.empty;
            expect(conf.series[0].data).to.exist;
            expect(conf.series[0].data).not.to.be.empty;
            expect(conf.series[0].data).to.have.length(8);
            expect(conf.series[0].data[0]).to.equal(1);
            expect(conf.series[0].data[3].y).to.equal(4);
            expect(conf.series[0].data[3].dataLabels).to.exist;
            //enable following steps after CHARS-182
            expect(conf.series[0].data[3].dataLabels.shape).to.exist;
            expect(conf.series[0].data[3].dataLabels.shape).to.equal('callout');
            expect(conf.series[0].data[7]).to.equal(8);
        });

    });

</script>

</body>
</html>
